############################################################################
#
# (c) 1986-2025 Wolfgang G. Rei√ünegger <w.reissnegger@gmx.net>
# 
# Project: https://github.com/egnagflow/vmon
# License: https://github.com/egnagflow/vmon/blob/main/LICENSE
#
############################################################################

############################################################################
# Configuration for BASIC loader with relocation of vmon to $C000.
# After first run, vmon can be restarted with:
#
#   SYS 49152
#
# and memory layout is configured as follow:
# $0400 - $07ff         ; Native screen memory
# $0800 - $0bff         ; VMON screen memory
# $0c00 - $0fff         ; VMON color RAM save area
# $1000 - $a000         ; Native BASIC RAM
# $c000 - $cfff         ; VMON
#
############################################################################
# Note:
#   There is no ZP defined in this configuration file as vicmon does not
#   touch any zeropage memory. This will prevent vicmon from interfering with
#   any programs using zeropage memory.
#
MEMORY {
    PRG:                start = $07ff, size = $0002;
    BASIC_HEADER_RAM:   start = $0801, size = $FF;
    RAM:                start = $c000, size = $1000, define = yes;
}

SEGMENTS {
    PRG_HEADER:                 load = PRG, type = rw, define = yes;
    BASIC_HEADER:               load = BASIC_HEADER_RAM, define = yes, type = rw;
    INIT:                       load = RAM, type = rw,  define = yes;
    CODE:                       load = RAM, type = rw;
    KEY_CODE_TABLE:             load = RAM, type = rw,  define = yes;
    KEY_HANDLER_JUMP_TABLE_LO:  load = RAM, type = rw,  define = yes;
    KEY_HANDLER_JUMP_TABLE_HI:  load = RAM, type = rw,  define = yes;
    ROM:                        load = RAM, type = rw;
    DATA:                       load = RAM, type = rw;
    CODE_END:                   load = RAM, type = rw, define = yes;
}
